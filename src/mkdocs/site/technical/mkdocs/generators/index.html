
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for CMIP Climate Models and Components">
      
      
        <meta name="author" content="WCRP-CMIP">
      
      
        <link rel="canonical" href="https://WCRP-CMIP.github.io/Essential-Model-Documentation/technical/mkdocs/generators/">
      
      
        <link rel="prev" href="../../../model_family/clm.html">
      
      
        <link rel="next" href="../">
      
      
      <link rel="icon" href="../../../stylesheets/logo.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.47">
    
    
  <title>Generators | Essential Model Documentation</title>

    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#generator-scripts" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://WCRP-CMIP.github.io/Essential-Model-Documentation/" title="Essential Model Documentation" class="md-header__button md-logo" aria-label="Essential Model Documentation" data-md-component="logo">
      
  <img src="../../../stylesheets/logo-light.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__search">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
    </label>
    <div class="md-search" data-md-component="search" role="dialog">
      <label class="md-search__overlay" for="__search"></label>
      <div class="md-search__inner" role="search">
        <form class="md-search__form" name="search">
          <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
          <label class="md-search__icon md-icon" for="__search">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
          </label>
          <nav class="md-search__options" aria-label="Search">
            <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
            </button>
          </nav>
        </form>
        <div class="md-search__output">
          <div class="md-search__scrollwrap" data-md-scrollfix>
            <div class="md-search-result" data-md-component="search-result">
              <div class="md-search-result__meta">
                Initializing search
              </div>
              <ol class="md-search-result__list"></ol>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="md-header__source">
      <a href="https://github.com/WCRP-CMIP/Essential-Model-Documentation" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    WCRP-CMIP/Essential-Model-Documentation
  </div>
</a>
    </div>
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Essential Model Documentation" class="md-nav__button md-logo" aria-label="Essential Model Documentation" data-md-component="logo">
      
  <img src="../../../stylesheets/logo-light.svg" alt="logo">

    </a>
    Essential Model Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/WCRP-CMIP/Essential-Model-Documentation" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    WCRP-CMIP/Essential-Model-Documentation
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Bidk:
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Bidk:
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bidk/Warnings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Warnings
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bidk/gelato/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gelato
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bidk/info/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Info
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../bidk/infobackup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Infobackup
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Model:
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Model:
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model/cnrm-esm2-1e.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cnrm Esm2 1E
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Model Component:
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Model Component:
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_component/arpege-climat-version-6-3.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Arpege Climat Version 6 3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_component/bisicles-ukesm-ismip6-1.0.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bisicles Ukesm Ismip6 1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_component/clm4.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Clm4
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_component/gelato.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gelato
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_component/hadam3.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hadam3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_component/nemo-v3-6.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nemo V3 6
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_component/piscesv2-gas.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Piscesv2 Gas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_component/reprobus-c-v2-0.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reprobus C V2 0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_component/surfex-v8-modeling-platform.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Surfex V8 Modeling Platform
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_component/tactic.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tactic
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Model Family:
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Model Family:
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_family/arpege-climat.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Arpege Climat
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_family/bcc-csm.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bcc Csm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_family/bisicles.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bisicles
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_family/cam.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cam
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_family/canesm.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Canesm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_family/cesm.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cesm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_family/clm.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Clm
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Technical:
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Technical:
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Mkdocs:
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6_1">
            <span class="md-nav__icon md-icon"></span>
            Mkdocs:
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Generators
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Generators
  </span>
  

      </a>
      
        <nav class="md-nav md-nav--secondary" aria-label="toc.title">
  <label class="md-nav__title" for="__toc">
    toc.title
  </label>
  <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
    
      <li class="md-nav__item">
  <a href="#generator-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Generator Scripts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Generator Scripts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scripts-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Scripts Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Common Structure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-new-items" class="md-nav__link">
    <span class="md-ellipsis">
      Adding New Items
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parsing-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Parsing Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Parsing Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parse_domaindata" class="md-nav__link">
    <span class="md-ellipsis">
      parse_domain(data)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parse_institutiondata" class="md-nav__link">
    <span class="md-ellipsis">
      parse_institution(data)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#highlight_keywordstext-extra_keywords" class="md-nav__link">
    <span class="md-ellipsis">
      highlight_keywords(text, extra_keywords)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#template-context" class="md-nav__link">
    <span class="md-ellipsis">
      Template Context
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-handling" class="md-nav__link">
    <span class="md-ellipsis">
      Error Handling
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Dependencies
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
    
  </ul>
</nav>
      
    </li>
  

              
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../styling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Styling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../templates/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Templates
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://wcrp-cmip.org/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CMIP Website
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://www.wcrp-climate.org/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WCRP
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--secondary" aria-label="toc.title">
  <label class="md-nav__title" for="__toc">
    toc.title
  </label>
  <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
    
      <li class="md-nav__item">
  <a href="#generator-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Generator Scripts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Generator Scripts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scripts-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Scripts Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Common Structure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-new-items" class="md-nav__link">
    <span class="md-ellipsis">
      Adding New Items
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parsing-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Parsing Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Parsing Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parse_domaindata" class="md-nav__link">
    <span class="md-ellipsis">
      parse_domain(data)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parse_institutiondata" class="md-nav__link">
    <span class="md-ellipsis">
      parse_institution(data)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#highlight_keywordstext-extra_keywords" class="md-nav__link">
    <span class="md-ellipsis">
      highlight_keywords(text, extra_keywords)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#template-context" class="md-nav__link">
    <span class="md-ellipsis">
      Template Context
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-handling" class="md-nav__link">
    <span class="md-ellipsis">
      Error Handling
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Dependencies
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="generator-scripts">Generator Scripts<a class="headerlink" href="#generator-scripts" title="Permanent link">&para;</a></h1>
<p>The generator scripts fetch data from the EMD Registry and create styled HTML pages.</p>
<h2 id="scripts-overview">Scripts Overview<a class="headerlink" href="#scripts-overview" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Script</th>
<th>Output Directory</th>
<th>Registry Endpoint</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>generate_models.py</code></td>
<td><code>docs/model/</code></td>
<td><code>/model/</code></td>
</tr>
<tr>
<td><code>generate_model_components.py</code></td>
<td><code>docs/model_component/</code></td>
<td><code>/model_component/</code></td>
</tr>
<tr>
<td><code>generate_model_families.py</code></td>
<td><code>docs/model_family/</code></td>
<td><code>/model_family/</code></td>
</tr>
</tbody>
</table>
<h2 id="common-structure">Common Structure<a class="headerlink" href="#common-structure" title="Permanent link">&para;</a></h2>
<p>All generators follow the same pattern:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="ch">#!/usr/bin/env python3</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">cmipld</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="kn">from</span><span class="w"> </span><span class="nn">jinja2</span><span class="w"> </span><span class="kn">import</span> <span class="n">Environment</span><span class="p">,</span> <span class="n">FileSystemLoader</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="kn">from</span><span class="w"> </span><span class="nn">helpers</span><span class="w"> </span><span class="kn">import</span> <span class="n">ICONS</span><span class="p">,</span> <span class="n">HIGHLIGHT_KEYWORDS</span><span class="p">,</span> <span class="n">escape_html</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="kn">from</span><span class="w"> </span><span class="nn">helpers.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">parse_references</span><span class="p">,</span> <span class="n">highlight_keywords</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="c1"># Configuration</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="n">BASE_URL</span> <span class="o">=</span> <span class="s2">&quot;https://emd.mipcvs.dev/model_component&quot;</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="n">TEMPLATE_DIR</span> <span class="o">=</span> <span class="n">SCRIPT_DIR</span> <span class="o">/</span> <span class="s2">&quot;helpers&quot;</span> <span class="o">/</span> <span class="s2">&quot;templates&quot;</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="n">OUTPUT_DIR</span> <span class="o">=</span> <span class="n">SCRIPT_DIR</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="s2">&quot;model_component&quot;</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="c1"># Items to generate</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="n">ITEMS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;item1.json&quot;</span><span class="p">,</span> <span class="s2">&quot;item2.json&quot;</span><span class="p">]</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="k">def</span><span class="w"> </span><span class="nf">prepare_template_context</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Transform raw JSON-LD to template variables.&quot;&quot;&quot;</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>    <span class="k">return</span> <span class="p">{</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;@id&quot;</span><span class="p">),</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">),</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>        <span class="s2">&quot;icons&quot;</span><span class="p">:</span> <span class="n">ICONS</span><span class="p">,</span>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>        <span class="s2">&quot;generated_date&quot;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M UTC&quot;</span><span class="p">),</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>        <span class="c1"># ... more fields</span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>    <span class="p">}</span>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a>    <span class="n">env</span> <span class="o">=</span> <span class="n">Environment</span><span class="p">(</span><span class="n">loader</span><span class="o">=</span><span class="n">FileSystemLoader</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">TEMPLATE_DIR</span><span class="p">)))</span>
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a>    <span class="n">template</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">get_template</span><span class="p">(</span><span class="s2">&quot;template.html.j2&quot;</span><span class="p">)</span>
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a>    <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">ITEMS</span><span class="p">:</span>
<a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a>        <span class="n">data</span> <span class="o">=</span> <span class="n">cmipld</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">BASE_URL</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a>        <span class="n">context</span> <span class="o">=</span> <span class="n">prepare_template_context</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a>        <span class="n">html</span> <span class="o">=</span> <span class="n">template</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="o">**</span><span class="n">context</span><span class="p">)</span>
<a id="__codelineno-0-33" name="__codelineno-0-33" href="#__codelineno-0-33"></a>        <span class="p">(</span><span class="n">OUTPUT_DIR</span> <span class="o">/</span> <span class="n">filename</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.json&quot;</span><span class="p">,</span> <span class="s2">&quot;.html&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">write_text</span><span class="p">(</span><span class="n">html</span><span class="p">)</span>
<a id="__codelineno-0-34" name="__codelineno-0-34" href="#__codelineno-0-34"></a>
<a id="__codelineno-0-35" name="__codelineno-0-35" href="#__codelineno-0-35"></a>    <span class="n">cmipld</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<a id="__codelineno-0-36" name="__codelineno-0-36" href="#__codelineno-0-36"></a>
<a id="__codelineno-0-37" name="__codelineno-0-37" href="#__codelineno-0-37"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<a id="__codelineno-0-38" name="__codelineno-0-38" href="#__codelineno-0-38"></a>    <span class="n">main</span><span class="p">()</span>
</code></pre></div>
<h2 id="adding-new-items">Adding New Items<a class="headerlink" href="#adding-new-items" title="Permanent link">&para;</a></h2>
<p>To add a new model component, edit <code>generate_model_components.py</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="n">MODEL_COMPONENTS</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>    <span class="s2">&quot;arpege-climat-version-6-3.json&quot;</span><span class="p">,</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>    <span class="s2">&quot;nemo-version-3-6.json&quot;</span><span class="p">,</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>    <span class="s2">&quot;gelato-version-6.json&quot;</span><span class="p">,</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>    <span class="s2">&quot;surfex-version-8-0.json&quot;</span><span class="p">,</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>    <span class="s2">&quot;your-new-component.json&quot;</span><span class="p">,</span>  <span class="c1"># Add here</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="p">]</span>
</code></pre></div>
<h2 id="parsing-functions">Parsing Functions<a class="headerlink" href="#parsing-functions" title="Permanent link">&para;</a></h2>
<h3 id="parse_domaindata">parse_domain(data)<a class="headerlink" href="#parse_domaindata" title="Permanent link">&para;</a></h3>
<p>Handles domain data in various formats:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1"># String input</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="n">parse_domain</span><span class="p">(</span><span class="s2">&quot;atmosphere&quot;</span><span class="p">)</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="c1"># Returns: {&quot;id&quot;: &quot;atmosphere&quot;, &quot;name&quot;: &quot;Atmosphere&quot;, ...}</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="c1"># Dict input</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="n">parse_domain</span><span class="p">({</span><span class="s2">&quot;@id&quot;</span><span class="p">:</span> <span class="s2">&quot;atmos&quot;</span><span class="p">,</span> <span class="s2">&quot;ui_label&quot;</span><span class="p">:</span> <span class="s2">&quot;Atmosphere&quot;</span><span class="p">})</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="c1"># Returns: {&quot;id&quot;: &quot;atmos&quot;, &quot;name&quot;: &quot;Atmosphere&quot;, ...}</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="c1"># None handling</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="n">parse_domain</span><span class="p">(</span><span class="s2">&quot;none&quot;</span><span class="p">)</span>  <span class="c1"># Returns None</span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="n">parse_domain</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>    <span class="c1"># Returns None</span>
</code></pre></div>
<h3 id="parse_institutiondata">parse_institution(data)<a class="headerlink" href="#parse_institutiondata" title="Permanent link">&para;</a></h3>
<p>Extracts institution details including location:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">parse_institution</span><span class="p">({</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>    <span class="s2">&quot;@id&quot;</span><span class="p">:</span> <span class="s2">&quot;cnrm&quot;</span><span class="p">,</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>    <span class="s2">&quot;labels&quot;</span><span class="p">:</span> <span class="s2">&quot;Centre National...&quot;</span><span class="p">,</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>    <span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Toulouse&quot;</span><span class="p">,</span> <span class="s2">&quot;country_name&quot;</span><span class="p">:</span> <span class="s2">&quot;France&quot;</span><span class="p">}</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="p">})</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="c1"># Returns: {</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="c1">#   &quot;id&quot;: &quot;cnrm&quot;,</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="c1">#   &quot;name&quot;: &quot;Centre National...&quot;,</span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="c1">#   &quot;location&quot;: {&quot;name&quot;: &quot;Toulouse&quot;, &quot;country&quot;: &quot;France&quot;}</span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="c1"># }</span>
</code></pre></div>
<h3 id="highlight_keywordstext-extra_keywords">highlight_keywords(text, extra_keywords)<a class="headerlink" href="#highlight_keywordstext-extra_keywords" title="Permanent link">&para;</a></h3>
<p>Wraps keywords in <code>&lt;strong&gt;</code> tags:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="n">highlight_keywords</span><span class="p">(</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>    <span class="s2">&quot;The NEMO ocean model uses tripolar grids&quot;</span><span class="p">,</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>    <span class="p">[</span><span class="s2">&quot;NEMO&quot;</span><span class="p">]</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="p">)</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="c1"># Returns: &quot;The &lt;strong&gt;NEMO&lt;/strong&gt; &lt;strong&gt;ocean&lt;/strong&gt; &lt;strong&gt;model&lt;/strong&gt;...&quot;</span>
</code></pre></div>
<h2 id="template-context">Template Context<a class="headerlink" href="#template-context" title="Permanent link">&para;</a></h2>
<p>Each generator creates a context dict with:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>Resource identifier (@id)</td>
</tr>
<tr>
<td><code>name</code></td>
<td>Display name</td>
</tr>
<tr>
<td><code>description</code></td>
<td>Raw description text</td>
</tr>
<tr>
<td><code>description_highlighted</code></td>
<td>Description with keyword highlighting</td>
</tr>
<tr>
<td><code>validation_key</code></td>
<td>EMD validation key</td>
</tr>
<tr>
<td><code>context_url</code></td>
<td>JSON-LD context URL</td>
</tr>
<tr>
<td><code>types</code></td>
<td>List of @type values</td>
</tr>
<tr>
<td><code>icons</code></td>
<td>Dict of SVG icon strings</td>
</tr>
<tr>
<td><code>raw_json</code></td>
<td>Stringified JSON for copy feature</td>
</tr>
<tr>
<td><code>generated_date</code></td>
<td>Timestamp string</td>
</tr>
</tbody>
</table>
<p>Plus type-specific fields like <code>horizontal_grid</code>, <code>institution</code>, etc.</p>
<h2 id="error-handling">Error Handling<a class="headerlink" href="#error-handling" title="Permanent link">&para;</a></h2>
<p>Scripts handle errors gracefully:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="k">try</span><span class="p">:</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>    <span class="n">data</span> <span class="o">=</span> <span class="n">cmipld</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">data</span><span class="p">:</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Warning: No data for </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>        <span class="k">return</span> <span class="kc">False</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>    <span class="c1"># ... process</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>    <span class="k">return</span> <span class="kc">True</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>    <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
<p>The pre_build hook captures output and continues even if individual items fail.</p>
<h2 id="dependencies">Dependencies<a class="headerlink" href="#dependencies" title="Permanent link">&para;</a></h2>
<p>Required packages (in <code>requirements.txt</code>):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>cmipld&gt;=0.1.0
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>jinja2&gt;=3.0.0
</code></pre></div>
<p>The <code>cmipld</code> package provides the registry client:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">cmipld</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="c1"># Fetch JSON-LD with dereferencing</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="n">data</span> <span class="o">=</span> <span class="n">cmipld</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://emd.mipcvs.dev/model/cnrm-esm2-1e.json&quot;</span><span class="p">)</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="c1"># Always close when done</span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="n">cmipld</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <!-- Footer - Clean minimal design -->
<footer class="md-footer">
  
    
      
      <nav
        class="md-footer__inner md-grid"
        aria-label="Footer"
        
      >
        <!-- Link to previous page -->
        
          
          <a
            href="../../../model_family/clm.html"
            class="md-footer__link md-footer__link--prev"
            aria-label="Previous: Clm"
          >
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Clm
              </div>
            </div>
          </a>
        

        <!-- Link to next page -->
        
          
          <a
            href="../"
            class="md-footer__link md-footer__link--next"
            aria-label="Next: Index"
          >
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Index
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  
  <!-- Attribution footer -->
  <div class="md-footer-meta">
    <div class="md-footer__attribution">
      <div class="md-footer__attribution-inner md-grid">
        <p>
           Copyright Daniel Ellis 2025, designed for the CMIP IPO.
        </p>
      </div>
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.instant", "navigation.tracking", "navigation.path", "navigation.indexes", "navigation.footer", "toc.follow", "search.suggest", "search.highlight", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
  
      <script src="../../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
    
  <script>
    // Logo switching based on color scheme
    function updateLogo() {
      const scheme = document.body.getAttribute('data-md-color-scheme');
      const logos = document.querySelectorAll('.md-logo img');
      logos.forEach(function(logoImg) {
        if (logoImg) {
          if (scheme === 'slate') {
            logoImg.src = logoImg.src.replace('logo-light.svg', 'logo-dark.svg');
          } else {
            logoImg.src = logoImg.src.replace('logo-dark.svg', 'logo-light.svg');
          }
        }
      });
    }
    
    // Add repo link and dark mode toggle to header source area
    function setupHeaderControls() {
      const headerSource = document.querySelector('.md-header__source');
      if (!headerSource) return;
      
      // Check if controls already exist
      if (headerSource.querySelector('.header-repo')) return;
      
      // Get repo URL and name
      const repoUrl = 'https://github.com/WCRP-CMIP/Essential-Model-Documentation';
      const repoName = 'WCRP-CMIP/Essential-Model-Documentation';
      
      // Find the palette toggle input
      const paletteInputs = document.querySelectorAll('input[name="__palette"]');
      let toggleInput = null;
      paletteInputs.forEach(function(input) {
        if (!input.checked) {
          toggleInput = input;
        }
      });
      
      // Create container
      const container = document.createElement('div');
      container.style.display = 'flex';
      container.style.alignItems = 'center';
      container.style.gap = '1rem';
      
      // Create repo link with icon
      if (repoUrl) {
        const link = document.createElement('a');
        link.href = repoUrl;
        link.className = 'header-repo';
        link.target = '_blank';
        link.rel = 'noopener';
        link.style.display = 'flex';
        link.style.alignItems = 'center';
        link.style.gap = '0.4rem';
        
        // GitHub icon SVG - 2/3 of 48px = 32px
        const icon = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
        icon.setAttribute('viewBox', '0 0 16 16');
        icon.setAttribute('height', '32');
        icon.style.fill = 'currentColor';
        icon.innerHTML = '<path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/>';
        
        const text = document.createElement('span');
        text.textContent = repoName;
        text.style.fontSize = '0.55rem';
        
        link.appendChild(icon);
        link.appendChild(text);
        container.appendChild(link);
      }
      
      // Create dark mode toggle
      if (toggleInput) {
        const toggleLabel = document.createElement('label');
        toggleLabel.htmlFor = toggleInput.id;
        toggleLabel.className = 'header-toggle';
        toggleLabel.style.cursor = 'pointer';
        toggleLabel.style.display = 'flex';
        toggleLabel.style.alignItems = 'center';
        
        const scheme = document.body.getAttribute('data-md-color-scheme');
        const icon = scheme === 'slate' ? '' : '';
        toggleLabel.textContent = icon;
        toggleLabel.style.fontSize = '1.2rem';
        
        container.appendChild(toggleLabel);
      }
      
      headerSource.innerHTML = '';
      headerSource.appendChild(container);
    }
    
    // Update toggle icon when scheme changes
    function updateToggleIcon() {
      const toggle = document.querySelector('.header-toggle');
      if (toggle) {
        const scheme = document.body.getAttribute('data-md-color-scheme');
        toggle.textContent = scheme === 'slate' ? '' : '';
      }
    }
    
    // Run on load
    document.addEventListener('DOMContentLoaded', function() {
      updateLogo();
      setTimeout(setupHeaderControls, 50);
    });
    
    // For instant navigation
    if (typeof document$ !== 'undefined') {
      document$.subscribe(function() {
        updateLogo();
        setTimeout(setupHeaderControls, 50);
      });
    }
    
    // Watch for scheme changes
    new MutationObserver(function(mutations) {
      mutations.forEach(function(mutation) {
        if (mutation.attributeName === 'data-md-color-scheme') {
          updateLogo();
          updateToggleIcon();
        }
      });
    }).observe(document.body, { attributes: true });
  </script>

  </body>
</html>