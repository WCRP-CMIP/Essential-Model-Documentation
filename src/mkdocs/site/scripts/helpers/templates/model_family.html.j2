<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ name | e }} | {{ family_type | default('Model Family') }}</title>
    <link rel="stylesheet" href="../../stylesheets/emd-page.css">
    <link rel="stylesheet" href="../../stylesheets/scientific_domains.css">
    <script>
    // Fix base URL for breadcrumb links
    (function() {
        // Detect if we're under a base path (e.g., /emd/)
        const path = window.location.pathname;
        const pathParts = path.split('/').filter(Boolean);
        
        // If path has more than 2 parts after any base, we're in a subdirectory
        // Example: /emd/Explore_The_EMD/ESM_Families/cesm.html
        // We need to find how many levels to go up
        
        // Count how many actual content levels deep we are (excluding potential base like 'emd')
        let levelsDeep = 0;
        for (let i = pathParts.length - 1; i >= 0; i--) {
            if (pathParts[i].includes('.html')) continue; // Skip the file itself
            levelsDeep++;
            // Stop when we hit known base directories or root
            if (i === 0 || pathParts[i - 1] === 'emd' || pathParts[i - 1] === 'docs') break;
        }
        
        // Build correct relative path back to docs root
        const backPath = '../'.repeat(levelsDeep) || './';
        
        // Update all relative links that go to root
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('a[href="../../"]').forEach(link => {
                link.setAttribute('href', backPath);
            });
        });
    })();
    </script>
</head>
<body class="emd-page">
    <div class="emd-container">
        <header class="emd-header">
            <nav class="emd-breadcrumb">
                <a href="../../index.html">← Back to Documentation</a>
                <span>|</span>
                <a href="https://emd.mipcvs.dev/" target="_blank">EMD Registry</a>
                <span>→</span>
                <span>{{ family_type | default('Model Families') }}</span>
                <span>→</span>
                <span>{{ name | e }}</span>
            </nav>
